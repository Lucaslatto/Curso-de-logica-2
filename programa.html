<canvas width="600" height="400"></canvas>

<script>

var tela = document.querySelector("canvas");
var pincel = tela.getContext("2d");

pincel.fillStyle = "black"
pincel.fillRect(0, 0, 600, 400);

var cores = ["blue", "red", "green"];
var indiceCorAtual = 0;

function mudaCor() {

  if(indiceCorAtual < 2) {

    indiceCorAtual++;
    return false
  } else {

    indiceCorAtual = 0;
    return false;
    }
}

var desenha = false;

function desenhaCirculo(evento) {

  var x = evento.pageX - tela.offsetLeft;
  var y = evento.pageY - tela.offsetTop;

  if(desenha) {
    pincel.fillStyle = cores[indiceCorAtual];
    pincel.beginPath();
    pincel.arc(x, y, 10, 0, 2 * 3.14);
    pincel.fill();
  }
}

tela.onmousemove = desenhaCirculo;

function habilitaDesenho() {

  desenha = true;
  return false;
 
}

function desabilitaDesenho() {

  desenha = false;
  return false;
}

tela.onmousedown = habilitaDesenho;
tela,onmouseup = desabilitaDesenho;
tela.oncontextmenu = mudaCor;

</script>

